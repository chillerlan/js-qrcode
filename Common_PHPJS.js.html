<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Common/PHPJS.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Common/PHPJS.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @created      11.07.2022
 * @author       smiley &lt;smiley@chillerlan.net>
 * @copyright    2022 smiley
 * @license      MIT
 */

export default class PHPJS{

	/**
	 * @param {int} length
	 * @param {*} mixedVal
	 * @returns {Array}
	 */
	static fill_array(length, mixedVal){
		let arr = [];

		for(let key = 0; key &lt; length; key++){
			// abuse JSON to create a true clone of the value
			arr[key] = JSON.parse(JSON.stringify(mixedVal));
		}

		return arr;
	}

	/**
	 * Checks to see if a value in a nested array is set.
	 * isset(() => some.nested.value)
	 *
	 * @link https://stackoverflow.com/a/46256973
	 *
	 * @param {Function} accessor Function that returns our value
	 */
	static isset(accessor){
		try{
			return typeof accessor() !== 'undefined';
		}
		catch(e){
			return false;
		}
	}

	/**
	 * @link  http://locutus.io/php/var/intval/
	 *
	 * @param {*}      mixed_var
	 * @param {number|null} base
	 * @returns {int}
	 */
	static intval(mixed_var, base = null){
		let tmp;
		let type = typeof(mixed_var);

		if(type === 'boolean'){
			return +mixed_var;
		}
		else if(type === 'string'){
			tmp = parseInt(mixed_var, base || 10);
			return (isNaN(tmp) || !isFinite(tmp)) ? 0 : tmp;
		}
		else if(type === 'number' &amp;&amp; isFinite(mixed_var)){
			return mixed_var|0;
		}
		else{
			return 0;
		}
	}

	/**
	 * @link https://locutus.io/php/array/array_combine/
	 *
	 * @param {Array} keys
	 * @param {Array} values
	 * @returns {{}|boolean}
	 */
	static array_combine(keys, values) {
		let newArray = {};
		let i = 0;
		// input sanitation
		// Only accept arrays or array-like objects
		// Require arrays to have a count
		if(typeof keys !== 'object' || typeof values !== 'object'){
			return false;
		}

		if(typeof keys.length !== 'number' || typeof values.length !== 'number'){
			return false;
		}

		if(!keys.length){
			return false;
		}
		// number of elements does not match
		if(keys.length !== values.length){
			return false;
		}

		for(i = 0; i &lt; keys.length; i++){
			newArray[keys[i]] = values[i];
		}

		return newArray;
	}

	/**
	 * @link https://locutus.io/php/array/array_search/
	 *
	 * @param {*} needle
	 * @param {array} haystack
	 * @param {boolean} argStrict
	 * @returns {string|int|boolean}
	 */
	static array_search(needle, haystack, argStrict){
		let strict = !!argStrict;
		let key = '';

		if(typeof needle === 'object' &amp;&amp; needle.exec){
			// Duck-type for RegExp
			if(!strict){
				// Let's consider case sensitive searches as strict
				let flags = 'i' + (needle.global ? 'g' : '') +
					(needle.multiline ? 'm' : '') +
					// sticky is FF only
					(needle.sticky ? 'y' : '');
				needle = new RegExp(needle.source, flags);
			}

			for(key in haystack){
				if(Object.prototype.hasOwnProperty.call(haystack, key)){
					if(needle.test(haystack[key])){
						return key;
					}
				}
			}

			return false;
		}

		for(key in haystack){
			if(Object.prototype.hasOwnProperty.call(haystack, key)){
				// noinspection EqualityComparisonWithCoercionJS
				if((strict &amp;&amp; haystack[key] === needle) || (!strict &amp;&amp; haystack[key] == needle)){ // eslint-disable-line eqeqeq
					return key;
				}
			}
		}

		return false;
	}

	/**
	 * @link https://locutus.io/php/array/array_merge/
	 *
	 * @returns {Array|{}}
	 */
	static array_merge(){
		let args = Array.prototype.slice.call(arguments);
		let argl = args.length;
		let arg;
		let retObj = {};
		let k = '';
		let argil = 0;
		let j = 0;
		let i = 0;
		let ct = 0;
		let toStr = Object.prototype.toString;
		let retArr = true;

		for(i = 0; i &lt; argl; i++){
			if(toStr.call(args[i]) !== '[object Array]'){
				retArr = false;
				break;
			}
		}

		if(retArr){
			retArr = [];

			for(i = 0; i &lt; argl; i++){
				retArr = retArr.concat(args[i]);
			}

			return retArr;
		}

		for(i = 0, ct = 0; i &lt; argl; i++){
			arg = args[i];
			if(toStr.call(arg) === '[object Array]'){
				for(j = 0, argil = arg.length; j &lt; argil; j++){
					retObj[ct++] = arg[j];
				}
			}
			else{
				for(k in arg){
					if(Object.prototype.hasOwnProperty.call(arg, k)){
						if(parseInt(k, 10) + '' === k){
							retObj[ct++] = arg[k];
						}
						else{
							retObj[k] = arg[k];
						}
					}
				}
			}
		}
		return retObj;
	}

	/**
	 * @link https://locutus.io/php/strings/ord
	 *
	 * @param {string} string
	 * @returns {number}
	 */
	static ord(string){
		let str = string + '';
		let code = str.charCodeAt(0);

		if(code >= 0xD800 &amp;&amp; code &lt;= 0xDBFF){
			// High surrogate (could change last hex to 0xDB7F to treat
			// high private surrogates as single characters)
			let hi = code;

			if(str.length === 1){
				// This is just a high surrogate with no following low surrogate,
				// so we return its value;
				return code;
				// we could also throw an error as it is not a complete character,
				// but someone may want to know
			}

			return ((hi - 0xD800) * 0x400) + (str.charCodeAt(1) - 0xDC00) + 0x10000;
		}

		if(code >= 0xDC00 &amp;&amp; code &lt;= 0xDFFF){
			// Low surrogate
			// This is just a low surrogate with no preceding high surrogate,
			// so we return its value;
			return code;
			// we could also throw an error as it is not a complete character,
			// but someone may want to know
		}

		return code;
	}

}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="EccLevel.html">EccLevel</a></li><li><a href="MaskPattern.html">MaskPattern</a></li><li><a href="Mode.html">Mode</a></li><li><a href="module.exports.html">exports</a></li><li><a href="QRMatrix.html">QRMatrix</a></li><li><a href="Version.html">Version</a></li></ul><h3>Interfaces</h3><ul><li><a href="QROutputInterface.html">QROutputInterface</a></li></ul><h3>Global</h3><ul><li><a href="global.html#%255Cchillerlan%255CQRCode%255CData%255CQRDataModeInterface">\chillerlan\QRCode\Data\QRDataModeInterface</a></li><li><a href="global.html#_set_circleRadius">_set_circleRadius</a></li><li><a href="global.html#_set_eccLevel">_set_eccLevel</a></li><li><a href="global.html#_set_logoSpaceHeight">_set_logoSpaceHeight</a></li><li><a href="global.html#_set_logoSpaceStartX">_set_logoSpaceStartX</a></li><li><a href="global.html#_set_logoSpaceStartY">_set_logoSpaceStartY</a></li><li><a href="global.html#_set_logoSpaceWidth">_set_logoSpaceWidth</a></li><li><a href="global.html#_set_maskPattern">_set_maskPattern</a></li><li><a href="global.html#_set_quietzoneSize">_set_quietzoneSize</a></li><li><a href="global.html#_set_version">_set_version</a></li><li><a href="global.html#_set_versionMax">_set_versionMax</a></li><li><a href="global.html#_set_versionMin">_set_versionMin</a></li><li><a href="global.html#addAlphaNumSegment">addAlphaNumSegment</a></li><li><a href="global.html#addByteSegment">addByteSegment</a></li><li><a href="global.html#addNumericSegment">addNumericSegment</a></li><li><a href="global.html#addSegment">addSegment</a></li><li><a href="global.html#array_combine">array_combine</a></li><li><a href="global.html#array_merge">array_merge</a></li><li><a href="global.html#array_search">array_search</a></li><li><a href="global.html#available">available</a></li><li><a href="global.html#base64encode">base64encode</a></li><li><a href="global.html#CHAR_TO_ORD">CHAR_TO_ORD</a></li><li><a href="global.html#clampLogoSpaceValue">clampLogoSpaceValue</a></li><li><a href="global.html#clear">clear</a></li><li><a href="global.html#clearSegments">clearSegments</a></li><li><a href="global.html#collectModules">collectModules</a></li><li><a href="global.html#createMarkup">createMarkup</a></li><li><a href="global.html#dump">dump</a></li><li><a href="global.html#exp">exp</a></li><li><a href="global.html#fill_array">fill_array</a></li><li><a href="global.html#getBuffer">getBuffer</a></li><li><a href="global.html#getCharCount">getCharCount</a></li><li><a href="global.html#getCoefficient">getCoefficient</a></li><li><a href="global.html#getCoefficients">getCoefficients</a></li><li><a href="global.html#getCssClass">getCssClass</a></li><li><a href="global.html#getDataMode">getDataMode</a></li><li><a href="global.html#getDefaultModuleValue">getDefaultModuleValue</a></li><li><a href="global.html#getDegree">getDegree</a></li><li><a href="global.html#getLength">getLength</a></li><li><a href="global.html#getLengthInBits">getLengthInBits</a></li><li><a href="global.html#getMatrix">getMatrix</a></li><li><a href="global.html#getModuleValue">getModuleValue</a></li><li><a href="global.html#header">header</a></li><li><a href="global.html#initCustomOutputInterface">initCustomOutputInterface</a></li><li><a href="global.html#initOutputInterface">initOutputInterface</a></li><li><a href="global.html#interleaveEcBytes">interleaveEcBytes</a></li><li><a href="global.html#intval">intval</a></li><li><a href="global.html#IS_DARK">IS_DARK</a></li><li><a href="global.html#isset">isset</a></li><li><a href="global.html#isZero">isZero</a></li><li><a href="global.html#json">json</a></li><li><a href="global.html#log">log</a></li><li><a href="global.html#M_ALIGNMENT">M_ALIGNMENT</a></li><li><a href="global.html#M_DARKMODULE">M_DARKMODULE</a></li><li><a href="global.html#M_DATA">M_DATA</a></li><li><a href="global.html#M_FINDER">M_FINDER</a></li><li><a href="global.html#M_FINDER_DOT">M_FINDER_DOT</a></li><li><a href="global.html#M_FORMAT">M_FORMAT</a></li><li><a href="global.html#M_LOGO">M_LOGO</a></li><li><a href="global.html#M_NULL">M_NULL</a></li><li><a href="global.html#M_QUIETZONE">M_QUIETZONE</a></li><li><a href="global.html#M_SEPARATOR">M_SEPARATOR</a></li><li><a href="global.html#M_TEST">M_TEST</a></li><li><a href="global.html#M_TIMING">M_TIMING</a></li><li><a href="global.html#M_VERSION">M_VERSION</a></li><li><a href="global.html#MASK_PATTERN_AUTO">MASK_PATTERN_AUTO</a></li><li><a href="global.html#MATRIX_NEIGHBOUR_FLAGS">MATRIX_NEIGHBOUR_FLAGS</a></li><li><a href="global.html#MATRIX_NEIGHBOURS">MATRIX_NEIGHBOURS</a></li><li><a href="global.html#mod">mod</a></li><li><a href="global.html#MODE_INTERFACES">MODE_INTERFACES</a></li><li><a href="global.html#MODE_LENGTH_BITS">MODE_LENGTH_BITS</a></li><li><a href="global.html#module">module</a></li><li><a href="global.html#MODULE_VALUES_KEYS">MODULE_VALUES_KEYS</a></li><li><a href="global.html#moduleValueIsValid">moduleValueIsValid</a></li><li><a href="global.html#multiply">multiply</a></li><li><a href="global.html#ord">ord</a></li><li><a href="global.html#OUTPUT_MODE_INTERFACES">OUTPUT_MODE_INTERFACES</a></li><li><a href="global.html#paths">paths</a></li><li><a href="global.html#put">put</a></li><li><a href="global.html#putBit">putBit</a></li><li><a href="global.html#read">read</a></li><li><a href="global.html#render">render</a></li><li><a href="global.html#saveToFile">saveToFile</a></li><li><a href="global.html#setData">setData</a></li><li><a href="global.html#setMatrixDimensions">setMatrixDimensions</a></li><li><a href="global.html#setMinMaxVersion">setMinMaxVersion</a></li><li><a href="global.html#setModuleValues">setModuleValues</a></li><li><a href="global.html#text">text</a></li><li><a href="global.html#toHtmlElement">toHtmlElement</a></li><li><a href="global.html#TOTAL_CODEWORDS">TOTAL_CODEWORDS</a></li><li><a href="global.html#validateString">validateString</a></li><li><a href="global.html#validateStringI">validateStringI</a></li><li><a href="global.html#VERSION_AUTO">VERSION_AUTO</a></li><li><a href="global.html#write">write</a></li><li><a href="global.html#writeMatrix">writeMatrix</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Sun Jul 24 2022 13:21:10 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
