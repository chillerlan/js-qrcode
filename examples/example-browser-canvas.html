<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>QRCode canvas example</title>
	<style>
		#qrcode-canvas{
			width: 500px;
			height: 500px;
		}
	</style>
</head>
<body>
<canvas id="qrcode-canvas">QR Code container</canvas>
<script type="module">
	import * as qrc from '../src/index.js';

	// assign module values
	let mv = {};

	// data
	mv[qrc.M_DATA]           = '#ecf9be'; // (false)
	mv[qrc.M_DATA_DARK]      = '#4a6000'; // (true)
	// finder
	mv[qrc.M_FINDER]         = '#ffbfbf';
	mv[qrc.M_FINDER_DARK]    = '#a71111';
	mv[qrc.M_FINDER_DOT]     = '#a71111';
	// alignment
	mv[qrc.M_ALIGNMENT]      = '#ffc9c9';
	mv[qrc.M_ALIGNMENT_DARK] = '#a70364';
	// timing
	mv[qrc.M_TIMING]         = '#ffb8e9';
	mv[qrc.M_TIMING_DARK]    = '#98005d';
	// format
	mv[qrc.M_FORMAT]         = '#00fb12';
	mv[qrc.M_FORMAT_DARK]    = '#003804';
	// version
	mv[qrc.M_VERSION]        = '#e0b8ff';
	mv[qrc.M_VERSION_DARK]   = '#650098';
	// darkmodule
	mv[qrc.M_DARKMODULE]     = '#080063';
	// separator
	mv[qrc.M_SEPARATOR]      = '#afbfbf';
	// quietzone
	mv[qrc.M_QUIETZONE]      = '#DDDDDD';


	let options = new qrc.QROptions({
		outputInterface    : qrc.QRCanvas,
		version            : 5,
		scale              : 20,
		moduleValues       : mv,
		// optionally provide a canvas element
		canvasElement      : document.getElementById('qrcode-canvas'),
		// the image type to output
		canvasImageType    : 'png',
		// toggle drawing of light modules
		drawLightModules   : false,
		// draw the modules as circles instead of squares
		drawCircularModules: true,
		circleRadius       : 0.4,
		// keep modules of these types as square
		keepAsSquare       :[
			qrc.M_FINDER_DARK,
			qrc.M_FINDER_DOT,
			qrc.M_ALIGNMENT_DARK,
		],
		// backround color, set to null for transparency (if QROptions.imageTransparent = true)
		bgcolor            : '#eeeeee',
		// toggle alpha transparency mode (if false, a bgcolor should be specified)
		imageTransparent   : false,
		// the default values for non-assigned M_TYPEs
		markupDark         : '#424242',
		markupLight        : '#eeeeee',
		// toggle base64 data URI output, if false, the canvas element will be returned
		outputBase64       : false,
	});

	let canvas = (new qrc.QRCode(options)).render('https://www.youtube.com/watch?v=dQw4w9WgXcQ');

//	console.log(canvas);
</script>
</body>
</html>
